@if (!connection.connected) {
  <app-loading class="flex justify-center mt-20" title="Connecting to Chat..."></app-loading>
} @else {
  <h2 class="px-1 md:px-4 border-b-4 m-0">You: <span appCharToColor>{{ connection.id }}</span></h2>
  <div #chatMessagesContainer class="flex-1 min-h-[100px] flex flex-col gap-4 overflow-y-auto pt-1 px-1 md:px-4">
    @for (message of messages; track message) {
      <div class="flex flex-col">
        @if (!isString(message)) {
          <span appCharToColor>{{ message.user }}</span>
          <span>{{ message.value }}</span>
        } @else {
        <span>SYSTEM: {{ message }}</span>
      }
      </div>
    }
  </div>
  <mat-form-field class="w-full">
    <input (keyup.enter)="onEnter()"
           [formControl]="inputFormControl"
           matInput
           placeholder="Your objectively wrong message goes here..."
           type="text">
  </mat-form-field>
}

